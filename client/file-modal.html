<template name="copyBox">
  <textarea id="copyText" class='form-control' disabled>
    {{#with copyCommand}}COPY {{table}}
    FROM '{{s3Path}}'
    CREDENTIALS '{{creds ..}}'{{options}};
    {{/with}}
  </textarea>
</template>

<template name="popover">
  <a class="popoverLabel" href="#" data-container="body" data-trigger="focus" data-placement="top" data-toggle="popover" data-title="{{id}}">
    {{label}}
  </a>
  <div class="hidden" id="{{id}}-content">
    {{popover}}
    <br/>
    <a target="_blank" href="http://docs.aws.amazon.com/redshift/latest/dg/r_COPY.html#copy-{{id}}">
      Click here for official docs!
    </a>
  </div>
</template>

<template name="text">
  <div class="form-group">
    <label for="{{id}}" class="col-sm-3 control-label">
      {{> popover this}}
    </label>
    <div class="col-sm-9">
      <input type="text" class="copy-control form-control" placeholder="{{placeholder}}" id="{{id}}">
    </div>
  </div>
</template>

<template name="dropdown">
  <div class="form-group">
    <label for="{{id}}" class="col-sm-3 control-label">{{label}}</label>
    <div class="col-sm-9">
      <select id="{{id}}" class="copy-control form-control">
        {{#each options}}
        <option value="{{value}}">
          {{text}}
        </option>
        {{/each}}
      </select>
    </div>
  </div>
</template>

<template name="checkbox">
  <div class="form-group">
    <label for="{{id}}" class="col-sm-6 control-label">{{label}}</label>
    <div class="col-sm-6 checkbox">
      <input checked={{checked}} type="checkbox" class="copy-control" id="{{id}}">
    </div>
  </div>
</template>

<template name="currentFile">
  <div id="currentFile" class="modal fade">
    <div class="modal-dialog" tabindex="-1">
      {{#with currentFile}}
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">{{Key}}</h4>
        </div>
        <form id="copyForm" class="form-horizontal form-group-sm">
          <div class="modal-body row">
            <div class="col-lg-6">
              {{> copyBox}}
              {{#each controls.textFields}}
                {{> text}}
              {{/each}}
              <div class="col-lg-6">
                {{#each controls.leftCheckboxes}}
                  {{> checkbox}}
                {{/each}}
              </div>
              <div class="col-lg-6">
                {{#each controls.rightCheckboxes}}
                  {{> checkbox}}
                {{/each}}
              </div>
            </div>
            <div class="col-lg-6">
              <div class="panel-group" role="tablist">
                <div class="panel panel-default">
                  <div class="panel-heading" role="tab">
                    <h4 class="panel-title">Advanced Controls</h4>
                  </div>
                  <div class="panel-body">
                    {{#each controls.advancedTextFields}}
                      {{> text}}
                    {{/each}}
                    {{#each controls.advancedDropdowns}}
                      {{> dropdown}}
                    {{/each}}
                    <div class="col-lg-6">
                      {{#each controls.advancedLeftCheckboxes}}
                        {{> checkbox}}
                      {{/each}}
                    </div>
                    <div class="col-lg-6">
                      {{#each controls.advancedRightCheckboxes}}
                        {{> checkbox}}
                      {{/each}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button id="delete" type="button" class="btn btn-default danger">Delete</button>
          </div>
        </form>
      </div>
      {{/with}}
    </div>
  </div>
</template>
